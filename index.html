<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 í˜¸ë‘ë„¤ ê°€ê³„ë¶€ ğŸ¾</title>
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { margin: 0; padding: 0; background: #FFFBEB; font-family: 'Gamja Flower', cursive; }
        #root { display: flex; justify-content: center; }
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        function BudgetApp() {
            const [transactions, setTransactions] = useState([]);
            const [loading, setLoading] = useState(true);
            const [tab, setTab] = useState("home");
            const [month, setMonth] = useState("02"); // ê¸°ë³¸ 2ì›”

            useEffect(() => {
                // ğŸš¨ í˜¸ë¯¼ë‹˜ì˜ Apps Script URL
                const SHEET_URL = "https://script.google.com/macros/s/AKfycbycIvM347OIQzgBYW3Mf8FrpzWyjlwbJ19ZKvP-C3Ty5cDmQZO_6PQd351lQIdvRh2P/exec"; 

                fetch(SHEET_URL)
                    .then(res => res.json())
                    .then(data => {
                        const formattedData = data.map((item, index) => ({
                            id: index,
                            m: item.month ? item.month.replace("ì›”", "").padStart(2, '0') : "01",
                            t: item.êµ¬ë¶„ || "ê¸°íƒ€",
                            d: item.ì¼ì || "",
                            desc: item.ë‚´ìš© || "ë‚´ìš© ì—†ìŒ",
                            cat: item.ë¶„ë¥˜ || "ê¸°íƒ€",
                            amt: Number(item.ê¸ˆì•¡) || 0,
                            pay: item.ì§€ì¶œë°©ì‹ || ""
                        }));
                        setTransactions(formattedData);
                        setLoading(false);
                    })
                    .catch(err => {
                        console.error("ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:", err);
                        setLoading(false);
                    });
            }, []);

            const filtered = useMemo(() => {
                return transactions.filter(t => {
                    const isMonthMatch = t.m === month;
                    if (!isMonthMatch) return false;
                    if (tab === "home") return true;
                    if (tab === "food") return t.cat.includes("Groceries") || t.cat.includes("Dining");
                    if (tab === "pet") return t.cat.includes("Pet");
                    if (tab === "etc") return !t.cat.includes("Groceries") && !t.cat.includes("Dining") && !t.cat.includes("Pet");
                    return true;
                });
            }, [tab, month, transactions]);

            const totalSpent = useMemo(() => filtered.reduce((acc, cur) => acc + cur.amt, 0), [filtered]);
